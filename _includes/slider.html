<!-- Responsive slider - START -->
<div class="iosSliderContainer home">
  <div class = 'iosSlider'>
    <div class = 'slider'>
    </div>

    <a class="slider-control prev" >&lt;</a>
    <a class="slider-control next" >&gt;</a>

    <div class="pages">
    </div>
  </div>
</div>

<script src="{{ site.baseurl }}/js/jquery.iosslider.min.js"></script>
<script type="text/javascript">
  var baseurl = "{{ site.baseurl }}";
  $(document).ready(function() {
    var doc = $(document);
    var size = (Math.min(doc.width(), doc.height()) <= 768) ?
      '-small' : '';

    for (var i = 0; i < 4; i++) {
      var image = $('<img />', {
        src: baseurl + '/images/slide-' + (i + 1) + size + '.jpg'
      });
      var container = $('<div/>', {
        'class': 'page'
      });
      container.append(image);
      $('.iosSlider .slider').append(container);
      $('.iosSlider .pages').append($('<a />', {
        'class': 'page'
      }));
    }

    $('.pages .page').first().addClass('active');

    $('.iosSlider').iosSlider({
      autoSlide: true,
      snapToChildren: true,
      desktopClickDrag: true,
      keyboardControls: true,
      navNextSelector: $('.next'),
      navPrevSelector: $('.prev'),
      navSlideSelector: $('.pages .page'),
      onSlideChange: slideChange,
      infiniteSlider: true
    });
  });

  function slideChange(args) {
    $('.pages .page').removeClass('active');
    $('.pages .page:eq(' + (args.currentSlideNumber - 1) + ')').addClass('active');
  }
</script>
